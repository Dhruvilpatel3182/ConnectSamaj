{% extends "base.html" %}
{% block content %}
<div class="container-fluid py-4 add-event-page">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8">
      <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body p-4 p-md-5">
          <h2 class="text-center mb-4 fw-bold text-gradient">
            Add New Event / ркирк╡рлА ркЗрк╡рлЗркирлНркЯ ркЙркорлЗрк░рлЛ
          </h2>

          <form method="POST" action="{{ url_for('add_event') }}" enctype="multipart/form-data" id="eventForm">
            <div class="row g-3">
              
              <div class="col-md-6">
                <label for="event_type" class="form-label fw-semibold">Event Type / ркЗрк╡рлЗркирлНркЯ рккрлНрк░ркХрк╛рк░ *</label>
                <select name="event_type" id="event_type" class="form-select" required>
                  <option value="">Select Event Type / рккрлНрк░ркХрк╛рк░ рккрк╕ркВркж ркХрк░рлЛ</option>
                  <option value="Marriage">Marriage / рк▓ркЧрлНрки</option>
                  <option value="Festival">Festival / ркдрк╣рлЗрк╡рк╛рк░</option>
                  <option value="Meeting">Meeting / ркмрлЗркаркХ</option>
                  <option value="Celebration">Celebration / ркЙркЬрк╡ркгрлА</option>
                  <option value="Sports">Sports / рк░ркоркдркЧркоркд</option>
                  <option value="Cultural">Cultural / рк╕рк╛ркВрк╕рлНркХрлГркдрк┐ркХ</option>
                  <option value="Religious">Religious / ркзрк╛рк░рлНркорк┐ркХ</option>
                  <option value="Other">Other / ркЕркирлНркп</option>
                </select>
              </div>

              <div class="col-md-6">
                <label for="event_name" class="form-label fw-semibold">Event Name / ркЗрк╡рлЗркирлНркЯ ркирк╛рко *</label>
                <input type="text" name="event_name" id="event_name" class="form-control"
                  placeholder="Enter event name / ркЗрк╡рлЗркирлНркЯ ркирк╛рко ркжрк╛ркЦрк▓ ркХрк░рлЛ" required>
              </div>

              <div class="col-md-6">
                <label for="village" class="form-label fw-semibold">Village / ркЧрк╛рко *</label>
                <select name="village" id="village" class="form-select" required>
                  <option value="">Select Village / ркЧрк╛рко рккрк╕ркВркж ркХрк░рлЛ</option>
                  {% for village in villages %}
                  <option value="{{ village }}">{{ village }}</option>
                  {% endfor %}
                </select>
              </div>

              <div class="col-md-6">
                <label for="date" class="form-label fw-semibold">Date / ркдрк╛рк░рлАркЦ *</label>
                <input type="date" name="date" id="date" class="form-control" required>
              </div>

              <div class="col-md-6">
                <label for="time" class="form-label fw-semibold">Time / рк╕ркоркп</label>
                <input type="time" name="time" id="time" class="form-control">
              </div>

              <div class="col-12">
                <label for="description" class="form-label fw-semibold">Description / рк╡рк░рлНркгрки</label>
                <textarea name="description" id="description" rows="4" class="form-control"
                  placeholder="Enter event description / ркЗрк╡рлЗркирлНркЯ рк╡рк░рлНркгрки ркжрк╛ркЦрк▓ ркХрк░рлЛ"></textarea>
              </div>

              <div class="col-12 d-flex flex-column flex-md-row justify-content-center gap-3 mt-4">
                <button type="submit" class="btn btn-success px-4 py-2 fw-semibold">Add Event / ркЗрк╡рлЗркирлНркЯ ркЙркорлЗрк░рлЛ</button>
                <a href="{{ url_for('view_events') }}" class="btn btn-secondary px-4 py-2 fw-semibold">Cancel / рк░ркж ркХрк░рлЛ</a>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div class="card mt-4 border-0 shadow-sm rounded-4">
        <div class="card-body">
          <h5 class="fw-bold mb-3 text-dark">ЁЯУЭ Event Guidelines / ркЗрк╡рлЗркирлНркЯ ркорк╛рк░рлНркЧркжрк░рлНрк╢рк┐ркХрк╛</h5>
          <ul class="text-muted small mb-0">
            <li>Fill all required fields marked with * / * ркЪрк┐рк╣рлНркирк┐ркд рклрлАрк▓рлНркбрлНрк╕ ркнрк░рлЛ</li>
            <li>Select appropriate event type for better categorization / рк╕рк╛рк░рлА ркХрлЗркЯрлЗркЧрк░рк╛ркЗркЭрлЗрк╢рки ркорк╛ркЯрлЗ ркпрлЛркЧрлНркп рккрлНрк░ркХрк╛рк░ рккрк╕ркВркж ркХрк░рлЛ</li>
            <li>Provide clear description for event details / ркЗрк╡рлЗркирлНркЯ рк╡рк┐ркЧркдрлЛ ркорк╛ркЯрлЗ рк╕рлНрккрк╖рлНркЯ рк╡рк░рлНркгрки ркЖрккрлЛ</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.text-gradient {
  background: linear-gradient(45deg, #667eea, #764ba2);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.add-event-page {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
}

.card {
  border-radius: 18px !important;
}

.form-control, .form-select {
  padding: 12px 15px;
  border-radius: 10px;
  font-size: 15px;
  border: 1.8px solid #e1e5eb;
}

.form-control:focus, .form-select:focus {
  border-color: #5b73e8;
  box-shadow: 0 0 0 3px rgba(91, 115, 232, 0.15);
}

.btn-success {
  background: linear-gradient(45deg, #27ae60, #219653);
  border: none;
}

.btn-secondary {
  background: linear-gradient(45deg, #95a5a6, #7f8c8d);
  border: none;
}

/* Responsive */
@media (max-width: 576px) {
  h2 {
    font-size: 1.6rem;
  }
  .card-body {
    padding: 1.5rem !important;
  }
  .form-control, .form-select {
    font-size: 14px;
  }
  .btn {
    width: 100%;
  }
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const form = document.getElementById("eventForm");
  const submitBtn = form.querySelector("button[type=submit]");
  form.addEventListener("submit", () => {
    submitBtn.disabled = true;
    submitBtn.textContent = "Adding Event...";
  });
});
</script>
{% endblock %}
